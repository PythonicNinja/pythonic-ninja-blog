---
import BaseLayout from './BaseLayout.astro';
import FoodForThought from "../components/FoodForThought.astro";
const fm = (Astro.props && Astro.props.frontmatter) ? Astro.props.frontmatter : {};
const title = (Astro.props && Astro.props.title) ?? fm.title ?? 'Post';
const summary = (Astro.props && Astro.props.summary) ?? fm.summary;
const description = (Astro.props && Astro.props.description) ?? summary;
const date = (Astro.props && Astro.props.date) ?? fm.date;
const tags = (Astro.props && Astro.props.tags) ?? fm.tags ?? [];
const hasTags = Array.isArray(tags) && tags.length > 0;
const hasDate = Boolean(date);
const dateText = hasDate ? date.split("T")[0] : null;
---
<BaseLayout title={`${title} — Pythonic Ninja`} description={description}>
  <article class="prose">
    <header class="post-header">
      <h1 class="post-title">{title}</h1>
      {(hasDate || hasTags) ? (
        <div class="post-meta">
          {hasDate && <time>{dateText}</time>}
          {hasTags ? <span> · {tags.join(', ')}</span> : null}
        </div>
      ) : null}
    </header>
    <slot />
  </article>

  <FoodForThought />
</BaseLayout>
